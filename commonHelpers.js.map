{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('#searchInput');\nconst searchBtn = document.querySelector('.searchBtn');\nconst galleryList = document.querySelector('ul.gallery');\nconst loaderEl = document.querySelector(\".loader\");\n\n\nfunction getImages(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '43849659-9c68b2f1fcc3f13b9ce5bf5a4';\n    const params = new URLSearchParams({\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    const url = `${BASE_URL}?key=${API_KEY}&${params}`;\n    \n    return fetch(url).then(res => res.json());\n    \n};\n\n    function validateSearchField() {\n        if (searchInput.value.trim() === '') {\n            alert('Searchfield empty. Please fill it out before clicking \"Search\"');\n            return false;\n        }\n        return true;\n    }\n\n    function handleSubmit(event) {\n        if (!validateSearchField()) {\n            event.preventDefault(); \n        }\n    }\n\n    searchBtn.addEventListener('click', handleSubmit);\n\nsearchForm.addEventListener('submit', e => {\n    e.preventDefault();\n    loaderEl.classList.add(\"is-open\");\n    const query = e.target.elements.query.value.trim();\n    getImages(query).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n            });\n            galleryList.innerHTML = \"\";\n            return;\n        };\n        galleryList.innerHTML = \"\";\n        imgTemplate(data.hits);\n    }).catch(error => {\n                console.log(error);\n                iziToast.error({\n                    title: 'Error',\n                    message: `Sorry, there are no images matching your search query. Please try again!`,\n                    position: 'topRight',\n                });\n        galleryList.innerHTML = \"\";\n    }\n        )\n    .finally(() => loaderEl.classList.remove(\"is-open\"));\n  searchInput.value = \"\";\n    \n});\n\n\n\nfunction imgTemplate(images) {\n  const markUp = images\n    .map(\n      image => `<li class=\"img-container\">\n  <a\n    href=${image.largeImageURL}\n    ><img\n      src=${image.webformatURL}\n      alt=${image.tags}\n  /></a>\n  <ul class=\"img-card\">\n    <li class=\"img-des\">\n      <p><b>Likes</b> ${image.likes}</p>\n    </li>\n    <li class=\"img-des\">\n      <p><b>Views</b> ${image.views}</p>\n    </li>\n    <li class=\"img-des\">\n      <p><b>Comments</b> ${image.comments}</p>\n    </li>\n    <li class=\"img-des\">\n      <p><b>Downloads</b> ${image.downloads}</p>\n    </li>\n  </ul>\n</li>\n`\n    )\n    .join(' ');\n    galleryList.insertAdjacentHTML(\"beforeend\", markUp);\n    const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250\n});\nlightbox.refresh();\n}\n\n      \n          "],"names":["searchForm","searchInput","searchBtn","galleryList","loaderEl","getImages","query","BASE_URL","API_KEY","params","url","res","validateSearchField","handleSubmit","event","e","data","iziToast","imgTemplate","error","images","markUp","image","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAW,SAAS,cAAc,SAAS,EAGjD,SAASC,EAAUC,EAAO,CACtB,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKI,EAAM,GAAGH,CAAQ,QAAQC,CAAO,IAAIC,CAAM,GAEhD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAE5C,CAEI,SAASC,GAAsB,CAC3B,OAAIX,EAAY,MAAM,KAAI,IAAO,IAC7B,MAAM,gEAAgE,EAC/D,IAEJ,EACV,CAED,SAASY,EAAaC,EAAO,CACpBF,EAAmB,GACpBE,EAAM,eAAc,CAE3B,CAEDZ,EAAU,iBAAiB,QAASW,CAAY,EAEpDb,EAAW,iBAAiB,SAAUe,GAAK,CACvCA,EAAE,eAAc,EAChBX,EAAS,UAAU,IAAI,SAAS,EAChC,MAAME,EAAQS,EAAE,OAAO,SAAS,MAAM,MAAM,OAC5CV,EAAUC,CAAK,EAAE,KAAKU,GAAQ,CAC1B,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CACX,QAAS,2EACf,MAAO,MACP,SAAU,UACpB,CAAa,EACDd,EAAY,UAAY,GACxB,MACZ,CACQA,EAAY,UAAY,GACxBe,EAAYF,EAAK,IAAI,CAC7B,CAAK,EAAE,MAAMG,GAAS,CACN,QAAQ,IAAIA,CAAK,EACjBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACTd,EAAY,UAAY,EAC3B,CACI,EACJ,QAAQ,IAAMC,EAAS,UAAU,OAAO,SAAS,CAAC,EACrDH,EAAY,MAAQ,EAEtB,CAAC,EAID,SAASiB,EAAYE,EAAQ,CAC3B,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA;AAAA,WAEJA,EAAM,aAAa;AAAA;AAAA,YAElBA,EAAM,YAAY;AAAA,YAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,wBAIEA,EAAM,KAAK;AAAA;AAAA;AAAA,wBAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,2BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,4BAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,CAKtC,EACA,KAAK,GAAG,EACTnB,EAAY,mBAAmB,YAAakB,CAAM,EACjC,IAAIE,EAAe,aAAc,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EACQ,QAAO,CAChB"}